{"ast":null,"code":"import _slicedToArray from \"/Users/hagi/ProgramingProject/TypeScriptProjects/react-guide-material/05_state_and_event/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _this = this,\n  _jsxFileName = \"/Users/hagi/ProgramingProject/TypeScriptProjects/react-guide-material/05_state_and_event/src/App.js\";\nimport \"./App.css\";\nimport React from \"react\";\nimport { Suspense, useState, useEffect, lazy, StrictMode } from \"react\";\nimport BaseErrorBoundary from \"./BaseErrorBoundary\";\nvar App = function App(_ref) {\n  var lectures = _ref.lectures;\n  /**\n   * ローカルストレージより画面復帰時のレクチャーインデックスを取得\n   */\n  var restoredLecIndx = localStorage.getItem(STORAGE_KEY) ?? 0;\n  restoredLecIndx = restoredLecIndx < lectures.length ? restoredLecIndx : 0;\n  var _useState = useState(restoredLecIndx),\n    _useState2 = _slicedToArray(_useState, 2),\n    lecIndex = _useState2[0],\n    setLecIndex = _useState2[1];\n  var STORAGE_KEY = \"rcg-current-lec-index\";\n  var DynamicLoader = function DynamicLoader(_ref2) {\n    var component = _ref2.component;\n    var LazyComponent = lazy(function () {\n      return import(\"\".concat(component));\n    });\n    return /*#__PURE__*/React.createElement(BaseErrorBoundary, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 19,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Suspense, {\n      fallback: /*#__PURE__*/React.createElement(\"div\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 20,\n          columnNumber: 29\n        }\n      }, \"Loading...\"),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(LazyComponent, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 21,\n        columnNumber: 11\n      }\n    })));\n  };\n\n  /**\n   * レクチャーID（フォルダ名）を取得\n   */\n  var lecId = lectures[lecIndex];\n\n  /**\n   * プルダウン変更時処理\n   */\n  var handleChange = function handleChange(event) {\n    return setLecIndex(event.target.value);\n  };\n  useEffect(function () {\n    return localStorage.setItem(STORAGE_KEY, lecIndex);\n  }, [lecIndex]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    className: \"App-select\",\n    value: lecIndex,\n    onChange: handleChange,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }\n  }, lectures.map(function (id, index) {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      key: id,\n      value: index,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 11\n      }\n    }, id);\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App-start\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, \"\\u7DF4\\u7FD2\\u30B3\\u30FC\\u30C9\\uFF08start\\uFF09\"), /*#__PURE__*/React.createElement(DynamicLoader, {\n    component: \"./\".concat(lecId, \"/start/Example\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App-end\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, \"\\u5B8C\\u6210\\u30B3\\u30FC\\u30C9\\uFF08end\\uFF09\"), /*#__PURE__*/React.createElement(DynamicLoader, {\n    component: \"./\".concat(lecId, \"/end/Example\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  })));\n};\nexport default App;","map":{"version":3,"names":["React","Suspense","useState","useEffect","lazy","StrictMode","BaseErrorBoundary","App","lectures","restoredLecIndx","localStorage","getItem","STORAGE_KEY","length","lecIndex","setLecIndex","DynamicLoader","component","LazyComponent","lecId","handleChange","event","target","value","setItem","map","id","index"],"sources":["/Users/hagi/ProgramingProject/TypeScriptProjects/react-guide-material/05_state_and_event/src/App.js"],"sourcesContent":["import \"./App.css\";\nimport React from \"react\";\n\nimport { Suspense, useState, useEffect, lazy, StrictMode } from \"react\";\nimport BaseErrorBoundary from \"./BaseErrorBoundary\";\n\nconst App = ({ lectures }) => {\n  /**\n   * ローカルストレージより画面復帰時のレクチャーインデックスを取得\n   */\n  let restoredLecIndx = localStorage.getItem(STORAGE_KEY) ?? 0;\n  restoredLecIndx = restoredLecIndx < lectures.length ? restoredLecIndx : 0;\n  const [lecIndex, setLecIndex] = useState(restoredLecIndx);\n  const STORAGE_KEY = \"rcg-current-lec-index\";\n\n  const DynamicLoader = ({ component }) => {\n    const LazyComponent = lazy(() => import(`${component}`));\n    return (\n      <BaseErrorBoundary>\n        <Suspense fallback={<div>Loading...</div>}>\n          <LazyComponent />\n        </Suspense>\n      </BaseErrorBoundary>\n    );\n  };\n\n  /**\n   * レクチャーID（フォルダ名）を取得\n   */\n  const lecId = lectures[lecIndex];\n\n  /**\n   * プルダウン変更時処理\n   */\n  const handleChange = (event) => setLecIndex(event.target.value);\n  useEffect(() => localStorage.setItem(STORAGE_KEY, lecIndex), [lecIndex]);\n\n  return (\n    <div className=\"App\">\n      <select className=\"App-select\" value={lecIndex} onChange={handleChange}>\n        {lectures.map((id, index) => (\n          <option key={id} value={index}>\n            {id}\n          </option>\n        ))}\n      </select>\n\n      <div className=\"App-start\">\n        <h2>練習コード（start）</h2>\n        <DynamicLoader component={`./${lecId}/start/Example`} />\n      </div>\n      <div className=\"App-end\">\n        <h2>完成コード（end）</h2>\n        <DynamicLoader component={`./${lecId}/end/Example`} />\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n"],"mappings":";;;AAAA,OAAO,WAAW;AAClB,OAAOA,KAAK,MAAM,OAAO;AAEzB,SAASC,QAAQ,EAAEC,QAAQ,EAAEC,SAAS,EAAEC,IAAI,EAAEC,UAAU,QAAQ,OAAO;AACvE,OAAOC,iBAAiB,MAAM,qBAAqB;AAEnD,IAAMC,GAAG,GAAG,SAANA,GAAG,OAAqB;EAAA,IAAfC,QAAQ,QAARA,QAAQ;EACrB;AACF;AACA;EACE,IAAIC,eAAe,GAAGC,YAAY,CAACC,OAAO,CAACC,WAAW,CAAC,IAAI,CAAC;EAC5DH,eAAe,GAAGA,eAAe,GAAGD,QAAQ,CAACK,MAAM,GAAGJ,eAAe,GAAG,CAAC;EAAC,gBAC1CP,QAAQ,CAACO,eAAe,CAAC;IAAA;IAAlDK,QAAQ;IAAEC,WAAW;EAC5B,IAAMH,WAAW,GAAG,uBAAuB;EAE3C,IAAMI,aAAa,GAAG,SAAhBA,aAAa,QAAsB;IAAA,IAAhBC,SAAS,SAATA,SAAS;IAChC,IAAMC,aAAa,GAAGd,IAAI,CAAC;MAAA,OAAM,MAAM,WAAIa,SAAS,EAAG;IAAA,EAAC;IACxD,oBACE,oBAAC,iBAAiB;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,gBAChB,oBAAC,QAAQ;MAAC,QAAQ,eAAE;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,gBAAsB;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,gBACxC,oBAAC,aAAa;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,EAAG,CACR,CACO;EAExB,CAAC;;EAED;AACF;AACA;EACE,IAAME,KAAK,GAAGX,QAAQ,CAACM,QAAQ,CAAC;;EAEhC;AACF;AACA;EACE,IAAMM,YAAY,GAAG,SAAfA,YAAY,CAAIC,KAAK;IAAA,OAAKN,WAAW,CAACM,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC;EAAA;EAC/DpB,SAAS,CAAC;IAAA,OAAMO,YAAY,CAACc,OAAO,CAACZ,WAAW,EAAEE,QAAQ,CAAC;EAAA,GAAE,CAACA,QAAQ,CAAC,CAAC;EAExE,oBACE;IAAK,SAAS,EAAC,KAAK;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBAClB;IAAQ,SAAS,EAAC,YAAY;IAAC,KAAK,EAAEA,QAAS;IAAC,QAAQ,EAAEM,YAAa;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GACpEZ,QAAQ,CAACiB,GAAG,CAAC,UAACC,EAAE,EAAEC,KAAK;IAAA,oBACtB;MAAQ,GAAG,EAAED,EAAG;MAAC,KAAK,EAAEC,KAAM;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,GAC3BD,EAAE,CACI;EAAA,CACV,CAAC,CACK,eAET;IAAK,SAAS,EAAC,WAAW;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACxB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,qDAAqB,eACrB,oBAAC,aAAa;IAAC,SAAS,cAAOP,KAAK,mBAAiB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAG,CACpD,eACN;IAAK,SAAS,EAAC,SAAS;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACtB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,mDAAmB,eACnB,oBAAC,aAAa;IAAC,SAAS,cAAOA,KAAK,iBAAe;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAG,CAClD,CACF;AAEV,CAAC;AAED,eAAeZ,GAAG"},"metadata":{},"sourceType":"module"}